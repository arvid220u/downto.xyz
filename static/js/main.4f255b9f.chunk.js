(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var o,n=a(0),s=a.n(n),c=a(7),r=a.n(c),i=(a(15),a(6)),l=a.n(i),d=a(8),u=a(4),h=a(9),b=a(2),m=(a(17),a(1)),j="DTF",p="DTC",f="DTD",y=[j,p,f],w=(o={},Object(b.a)(o,j,"(fuck)"),Object(b.a)(o,p,"(cuddle)"),Object(b.a)(o,f,"(date)"),o);function O(){return Object(m.jsx)("footer",{children:Object(m.jsxs)("div",{className:"my-2 max-w-2xl mx-auto",children:[Object(m.jsx)("h3",{className:"font-bold text-lg",children:"how does it work?"}),Object(m.jsx)("p",{className:"m-2",children:"you enter the @mit.edu addresses of people you are down to do things with. if you both indicate interest in each other for the same category, you will both get an email notifying you of a match!"}),Object(m.jsx)("h3",{className:"font-bold text-lg",children:"privacy"}),Object(m.jsx)("p",{className:"m-2",children:"the data stored on our servers is encrypted using your password, so (as long as your password is long enough) you don't need to worry about your list of preferences being revealed at any point (assuming you trust somewhat rushed unaudited untested code). information is only revealed in the event of a match. a slightly unfortunate side effect of this, and the fact that MIT does not have a public key directory, is that a match will not be detected if person A enters their prefererence for B before B has verified their email, until person A comes back to this page and updates."}),Object(m.jsxs)("p",{className:"m-2",children:["the source code is available at"," ",Object(m.jsx)("a",{href:"https://github.com/arvid220u/downto.xyz",children:"github.com/arvid220u/downto.xyz"}),". the readme contains a more thorough description of the exact privacy protocol. feedback and pull requests are very welcome!"]}),Object(m.jsx)("h3",{className:"font-bold text-lg",children:"about"}),Object(m.jsx)("p",{className:"m-2",children:"downto.xyz is inspired by the now-dead dildo.io. we believe that there should be fewer taboos, more openness and more physical intimacy in the world. while downto.xyz obviously isn't the end-all-be-all solution to any of that, we hope that it can contribute to a more open world, even if only by a tiny amount."}),Object(m.jsx)("p",{className:"m-2",children:"if you have any thoughts, positive or negative, email us at downto-board@mit.edu. it is very important to us that downto.xyz is good for the world, not bad, and if you have any concerns about anything, please let us know."})]})})}function x(){return x=Object(h.a)(l.a.mark((function e(){var t,a,o,n,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",a=s.length>1&&void 0!==s[1]?s[1]:{},o="https://api.downto.xyz"+t,console.log(o),e.next=6,fetch(o,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 6:return n=e.sent,console.log(n),e.abrupt("return",n.json());case 9:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function g(e){var t=window.localStorage.getItem("email"),a=window.localStorage.getItem("key"),o=null!=t&&null!=a,s=Object(n.useState)(o?t:""),c=Object(u.a)(s,2),r=c[0],i=c[1],l=Object(n.useState)(""),h=Object(u.a)(l,2),j=h[0],p=h[1],f=Object(n.useState)(e.targets),O=Object(u.a)(f,2),g=O[0],v=O[1];Object(n.useEffect)((function(){v(e.targets)}),[e.targets]);var k=Object(n.useCallback)((function(){o||alert("you must verify your email first!")}),[r,j,g,o,a]),N=Object(n.useCallback)((function(){window.localStorage.removeItem("email"),window.localStorage.removeItem("key"),i("")}),[]),S=Object(n.useCallback)((function(){r.match(/[a-z0-9_]+@mit\.edu/gm)?(!function(){x.apply(this,arguments)}("/verify",{email:r,targets:g}),alert("check your email for a verification link!")):alert("you need to send from an mit.edu email address!")}),[r,g]);return Object(m.jsxs)("div",{className:"Send mb-4",children:[Object(m.jsxs)("div",{className:"inputrow",children:[Object(m.jsx)("input",{type:"email",value:r,onChange:function(e){return i(e.target.value)},placeholder:"mykerb@mit.edu",readOnly:o}),Object(m.jsx)("button",{onClick:function(){return o?N():S()},children:o?"change":"verify"})]}),Object(m.jsx)("input",{type:"password",value:j,placeholder:"password",onChange:function(e){return p(e.target.value)}}),y.map((function(e){return Object(m.jsxs)("div",{className:"inputrow",children:[Object(m.jsxs)("div",{className:"my-auto mx-auto mr-2 w-20",children:[Object(m.jsxs)("span",{className:"font-bold text-lg",children:[e,":"]}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"text-xs",children:w[e]})]}),Object(m.jsx)("textarea",{className:"inputrow",placeholder:"friend@mit.edu, friend2@mit.edu",value:g[e],onChange:function(t){return v(Object(d.a)(Object(b.a)({},e,t.target.value),g))}})]})})),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{className:"w-3 h-3 border border-gray-300 rounded",type:"checkbox",name:"solemnlyswear"})," ",Object(m.jsx)("label",{htmlFor:"solemnlyswear",children:"i hereby declare that i am excited to do things with the people above, should we match"})]}),Object(m.jsx)("button",{onClick:k,children:"update"}),Object(m.jsx)("div",{children:"(note: you can only update once every 24 hours!)"}),"(note 2: emails are sent immediately upon a match! so please, if so only to avoid awkwardness, be honest. seriously)"]})}var v=function(e){var t=Object(n.useState)("normal"),a=Object(u.a)(t,2),o=a[0],s=(a[1],Object(n.useState)({})),c=Object(u.a)(s,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){var e,t=window.location.search,a=new URLSearchParams(t),o=a.get("dtf"),n=a.get("dtc"),s=a.get("dtd");i((e={},Object(b.a)(e,j,o||""),Object(b.a)(e,p,n||""),Object(b.a)(e,f,s||""),e)),window.history.replaceState({},document.title,window.location.pathname)}),[o]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h1",{className:"font-bold text-xl m-2",children:"downto.xyz"}),Object(m.jsx)(g,{targets:r}),Object(m.jsx)("hr",{}),Object(m.jsx)(O,{})]})},k=a(10),N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,23)).then((function(t){var a=t.getCLS,o=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),o(e),n(e),s(e),c(e)}))};r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(k.a,{children:Object(m.jsx)(v,{path:"/"})})}),document.getElementById("root")),N(null)}},[[22,1,2]]]);
//# sourceMappingURL=main.4f255b9f.chunk.js.map